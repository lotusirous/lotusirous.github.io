<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="Lotusirous's Blog">
    <title>Compile python in Ubuntu | Kha Nguyen</title>

    <link rel="stylesheet" href="/css/style-min.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/syntax.css" />
    </head>

  <body role="main">
    <nav role="navigation">
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/posts/">Posts</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    
    <hr/>
    </nav>

<div class="article-meta">
<h1 role="heading"><span class="title">Compile python in Ubuntu</span></h1>
<div class="article-description" role="contentinfo">

	<span>
		
		<svg class="icon" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
		  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
		  <line x1="16" y1="2" x2="16" y2="6"></line>
		  <line x1="8" y1="2" x2="8" y2="6"></line>
		  <line x1="3" y1="10" x2="21" y2="10"></line>
		  
		</svg>
			<time datetime="2018-10-21 14:09:49 &#43;0900 KST">October 21, 2018</time>
	</span>

	<span class="author">
		<svg class="icon" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
	  <path d="M21,21V20c0-2.76-4-5-9-5s-9,2.24-9,5v1"></path>
	  <path d="M16,6.37A4,4,0,1,1,12.63,3,4,4,0,0,1,16,6.37Z"></path>
	</svg>
		
	</span>

	
	<span>
		<svg class="icon" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
			  <circle cx="12" cy="12" r="10"></circle>
			  <polyline points="12 6 12 12 15 15"></polyline>
		</svg>
	1 minutes
	</span>


</div>
</div>

<main role="main">


<h1 id="compile-python-in-ubuntu">Compile python in Ubuntu</h1>

<p>Sometimes, you want to install latest python version because of various cool features and performance improvements. However, many PPA are not always available for latest version. Once, you have many python version, you will need a version manager such as <a href="https://github.com/pyenv/pyenv">pyenv</a> or <a href="https://github.com/pypa/pipenv">pipenv</a></p>

<p>This guide helps you to install python in Ubuntu under directory <code>/usr/local/lib/python3.7</code>.</p>

<blockquote>
<p>This method can be applied for any python version</p>
</blockquote>

<h2 id="install-dependencies">Install dependencies</h2>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">sudo mkdir /usr/local/lib/python3.7
sudo apt-get install build-essential checkinstall
sudo apt-get install libffi-dev liblzma-dev libreadline-gplv2-dev libncursesw5-dev libssl-dev <span class="se">\
</span><span class="se"></span>libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev</code></pre></div>
<h2 id="download-python">Download Python</h2>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">wget https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz
tar xvf Python-3.7.1.tgz
<span class="nb">cd</span> Python-3.7.1</code></pre></div>
<h2 id="compile-python">Compile Python</h2>

<p>Compile options are taken from <a href="https://github.com/docker-library/python/blob/master/3.7/alpine3.7/Dockerfile">python docker image</a></p>
<div class="highlight"><pre class="chroma"><code class="language-sh" data-lang="sh">./configure --enable-optimizations <span class="se">\
</span><span class="se"></span>    --enable-loadable-sqlite-extensions <span class="se">\
</span><span class="se"></span>    --enable-shared --with-system-expat <span class="se">\
</span><span class="se"></span>    --with-system-ffi --without-ensurepip <span class="se">\
</span><span class="se"></span>    --prefix<span class="o">=</span>/usr/local/lib/python3.7

make -j <span class="k">$(</span>nproc<span class="k">)</span>
sudo make altinstall</code></pre></div>
</main>

<footer role="footer" class="footer">
  <div class="footer-content">
<hr>
Â© <a href="https://lotusirous.github.io/" role="link">Kha Nguyen</a> | <a href="https://github.com/lotusirous" role="link">Github</a> | <a href="https://twitter.com/__ngtrongkha" role="link">Twitter</a>
</div>

  
  </footer>

  <script>
    
    (function () {
        var i, text, code, codes = document.getElementsByTagName('code');
        for (i = 0; i < codes.length;) {
            code = codes[i];
            if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
                text = code.textContent;
                if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
                    text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
                    code.textContent = text;
                }
                if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
                    /^\$(.|\s)+\$$/.test(text) ||
                    /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
                    code.outerHTML = code.innerHTML; 
                    continue;
                }
            }
            i++;
        }
    })();

    

    (function () {
        function center_el(tagName) {
            var tags = document.getElementsByTagName(tagName),
                i, tag;
            for (i = 0; i < tags.length; i++) {
                tag = tags[i];
                var parent = tag.parentElement;
                
                if (parent.childNodes.length === 1) {
                    
                    if (parent.nodeName === 'A') {
                        parent = parent.parentElement;
                        if (parent.childNodes.length != 1) continue;
                        parent.firstChild.style.border = 'none';
                    }
                    if (parent.nodeName === 'P') parent.style.textAlign = 'center';
                }
            }
        }
        var tagNames = ['img', 'embed', 'object'];
        for (var i = 0; i < tagNames.length; i++) {
            center_el(tagNames[i]);
        }
    })();
</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125798626-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-125798626-1');
</script>

  </body>
</html>

